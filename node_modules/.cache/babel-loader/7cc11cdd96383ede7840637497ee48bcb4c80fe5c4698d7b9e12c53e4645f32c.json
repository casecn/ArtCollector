{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cncase/projects/course_work/project_05/UNIV_Art_Collector_React_Starter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cncase/projects/course_work/project_05/UNIV_Art_Collector_React_Starter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';/**\n * We need to import fetchQueryResultsFromURL since we will sometimes have urls in info.prev and info.next\n * which are query urls.\n */import{fetchQueryResultsFromURL}from'../api';var Preview=function Preview(props){/**\n   * Destructure setSearchResults, setFeaturedResult, and setIsLoading from props\n   * and also destructure info and records from props.searchResults\n   * \n   * You need info, records, setSearchResults, setFeaturedResult, and setIsLoading as available constants\n   */var searchResults=props.searchResults,setIsLoading=props.setIsLoading,setSearchResults=props.setSearchResults,setFeaturedResult=props.setFeaturedResult;var _props$searchResults=props.searchResults,info=_props$searchResults.info,records=_props$searchResults.records;/**\n   * Don't touch this function, it's good to go.\n   * \n   * It has to be defined inside the Preview component to have access to setIsLoading, setSearchResults, etc...\n   */function fetchPage(_x){return _fetchPage.apply(this,arguments);}//const disablePagination ()\nfunction _fetchPage(){_fetchPage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(pageUrl){var results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return fetchQueryResultsFromURL(pageUrl);case 4:results=_context.sent;setSearchResults(results);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 11:_context.prev=11;setIsLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,8,11,14]]);}));return _fetchPage.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"aside\",{id:\"preview\"},/*#__PURE__*/React.createElement(\"header\",{className:\"pagination\"},/*#__PURE__*/React.createElement(\"button\",{disabled:!info.prev,className:\"previous\",onClick:function onClick(){return fetchPage(info.prev);}},\"Previous\"),/*#__PURE__*/React.createElement(\"button\",{disabled:!info.next,className:\"next\",onClick:function onClick(){return fetchPage(info.next);}},\"Next\")),/*#__PURE__*/React.createElement(\"section\",{className:\"results\"},/* Here we should map over the records, and render \n          something like this for each one:*/records.map(function(record,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"object-preview\",onClick:function onClick(event){// prevent the default\nevent.preventDefault();// set the featured result to be this record, using setFeaturedResult\nsetFeaturedResult(record);}},// if the record.primaryimageurl exists, show this: <img src={ record.primaryimageurl } alt={ record.description } />, otherwise show nothing \nrecord.primaryimageurl?/*#__PURE__*/React.createElement(\"img\",{src:record.primaryimageurl,alt:record.description}):null,// if the record.title exists, add this: <h3>{ record.title }</h3>, otherwise show this: <h3>MISSING INFO</h3>\nrecord.title?/*#__PURE__*/React.createElement(\"h3\",null,record.title):/*#__PURE__*/React.createElement(\"h3\",null,\"MISSING INFO\"));})));};export default Preview;","map":{"version":3,"names":["React","fetchQueryResultsFromURL","Preview","props","searchResults","setIsLoading","setSearchResults","setFeaturedResult","info","records","fetchPage","pageUrl","results","console","error","prev","next","map","record","index","event","preventDefault","primaryimageurl","description","title"],"sources":["/Users/cncase/projects/course_work/project_05/UNIV_Art_Collector_React_Starter/src/components/Preview.js"],"sourcesContent":["import React from 'react';\n\n/**\n * We need to import fetchQueryResultsFromURL since we will sometimes have urls in info.prev and info.next\n * which are query urls.\n */\nimport { fetchQueryResultsFromURL } from '../api';\n\nconst Preview = (props) => {\n  /**\n   * Destructure setSearchResults, setFeaturedResult, and setIsLoading from props\n   * and also destructure info and records from props.searchResults\n   * \n   * You need info, records, setSearchResults, setFeaturedResult, and setIsLoading as available constants\n   */\n  \n  const { searchResults, setIsLoading, setSearchResults, setFeaturedResult} = props;\n  const {info, records} = props.searchResults;\n  /**\n   * Don't touch this function, it's good to go.\n   * \n   * It has to be defined inside the Preview component to have access to setIsLoading, setSearchResults, etc...\n   */\n  async function fetchPage(pageUrl) {\n    setIsLoading(true);\n    try {\n      const results = await fetchQueryResultsFromURL(pageUrl);\n      setSearchResults(results);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  //const disablePagination ()\n\n  \n  return (\n    <aside id=\"preview\">\n      <header className=\"pagination\">\n        {/* This button should be disabled if nothing is set in info.prev, and should call fetchPage with info.prev when clicked */}\n      <button \n          disabled={!info.prev} \n          className=\"previous\"\n          onClick={() => fetchPage(info.prev)}>Previous</button> \n        {/* This button should be disabled if nothing is set in info.next, and should call fetchPage with info.next when clicked */}\n        <button\n          disabled={!info.next}\n          className=\"next\"\n          onClick={() => fetchPage(info.next)}>Next</button>\n      </header>\n      <section className=\"results\">\n        {\n          /* Here we should map over the records, and render \n          something like this for each one:*/\n        records.map((record, index) => {\n          return (\n              <div  \n                key={ index }\n                className=\"object-preview\"\n                onClick={(event) => {\n                  // prevent the default\n                  event.preventDefault();\n                  // set the featured result to be this record, using setFeaturedResult\n                  setFeaturedResult(record);\n                  }\n                }\n              >\n              { \n                // if the record.primaryimageurl exists, show this: <img src={ record.primaryimageurl } alt={ record.description } />, otherwise show nothing \n                record.primaryimageurl? <img src={ record.primaryimageurl } alt ={ record.description } /> : null \n              }\n              {\n                // if the record.title exists, add this: <h3>{ record.title }</h3>, otherwise show this: <h3>MISSING INFO</h3>\n                record.title ? <h3>{ record.title }</h3> : <h3>MISSING INFO</h3>\n              }\n            </div>\n            )}\n            )}\n      </section>\n    </aside>\n  );\n};\n  \n\nexport default Preview;"],"mappings":"wVAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB;AACA;AACA;AACA,GACA,OAASC,wBAAwB,KAAQ,QAAQ,CAEjD,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAK,CACzB;AACF;AACA;AACA;AACA;AACA,KAEE,GAAQC,cAAa,CAAuDD,KAAK,CAAzEC,aAAa,CAAEC,YAAY,CAAyCF,KAAK,CAA1DE,YAAY,CAAEC,gBAAgB,CAAuBH,KAAK,CAA5CG,gBAAgB,CAAEC,iBAAiB,CAAIJ,KAAK,CAA1BI,iBAAiB,CACxE,yBAAwBJ,KAAK,CAACC,aAAa,CAApCI,IAAI,sBAAJA,IAAI,CAAEC,OAAO,sBAAPA,OAAO,CACpB;AACF;AACA;AACA;AACA,KAJE,QAKeC,UAAS,8CAYxB;AAAA,2FAZA,iBAAyBC,OAAO,gIAC9BN,YAAY,CAAC,IAAI,CAAC,CAAC,sCAEKJ,yBAAwB,CAACU,OAAO,CAAC,QAAjDC,OAAO,eACbN,gBAAgB,CAACM,OAAO,CAAC,CAAC,+EAE1BC,OAAO,CAACC,KAAK,aAAO,CAAC,yBAErBT,YAAY,CAAC,KAAK,CAAC,CAAC,qGAEvB,4CAKD,mBACE,6BAAO,EAAE,CAAC,SAAS,eACjB,8BAAQ,SAAS,CAAC,YAAY,eAE9B,8BACI,QAAQ,CAAE,CAACG,IAAI,CAACO,IAAK,CACrB,SAAS,CAAC,UAAU,CACpB,OAAO,CAAE,yBAAML,UAAS,CAACF,IAAI,CAACO,IAAI,CAAC,EAAC,aAAkB,cAExD,8BACE,QAAQ,CAAE,CAACP,IAAI,CAACQ,IAAK,CACrB,SAAS,CAAC,MAAM,CAChB,OAAO,CAAE,yBAAMN,UAAS,CAACF,IAAI,CAACQ,IAAI,CAAC,EAAC,SAAc,CAC7C,cACT,+BAAS,SAAS,CAAC,SAAS,EAExB;AACV,6CACQP,OAAO,CAACQ,GAAG,CAAC,SAACC,MAAM,CAAEC,KAAK,CAAK,CAC7B,mBACI,2BACE,GAAG,CAAGA,KAAO,CACb,SAAS,CAAC,gBAAgB,CAC1B,OAAO,CAAE,iBAACC,KAAK,CAAK,CAClB;AACAA,KAAK,CAACC,cAAc,EAAE,CACtB;AACAd,iBAAiB,CAACW,MAAM,CAAC,CACzB,CACD,EAGD;AACAA,MAAM,CAACI,eAAe,cAAE,2BAAK,GAAG,CAAGJ,MAAM,CAACI,eAAiB,CAAC,GAAG,CAAIJ,MAAM,CAACK,WAAa,EAAG,CAAG,IAAI,CAGjG;AACAL,MAAM,CAACM,KAAK,cAAG,8BAAMN,MAAM,CAACM,KAAK,CAAO,cAAG,6CAAqB,CAE9D,CACL,CAAC,CACD,CACG,CACJ,CAEZ,CAAC,CAGD,cAAetB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}